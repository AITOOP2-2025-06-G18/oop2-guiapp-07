# 画像加工アプリケーション 使い方ガイド

## 概要

`k24044_lecture05_01_gui.py`は、PySide6を使用したGUIアプリケーションです。カメラで撮影した画像を使って、Google画像の白色部分を置き換える画像加工を行います。

## 必要な環境

- Python 3.x
- PySide6
- OpenCV (cv2)
- NumPy
- `my_module.K21999.lecture05_camera_image_capture` モジュール

## 起動方法

```bash
python src/k24044_lecture05_01_gui.py
```

## 使い方

### 1. アプリケーションの起動

アプリケーションを起動すると、以下のようなウィンドウが表示されます：

- **左側**: カメラ映像表示エリア（リアルタイムでカメラ映像が表示されます）
- **右側**: 加工画像表示エリア（加工後の画像が表示されます）
- **下部**: 操作ボタンエリア

### 2. 写真の撮影

カメラ映像を確認し、撮影したいタイミングで以下のいずれかの方法で撮影します：

- **方法1**: 「撮影」ボタンをクリック
- **方法2**: キーボードの **Qキー** を押す

撮影した画像は `output_images/k24044/camera_capture.png` に自動保存されます。

### 3. 画像の加工

撮影後、「画像加工・表示」ボタンをクリックすると：

1. `images/google.png` を読み込みます
2. Google画像の白色部分（RGB値が255,255,255）を、撮影したカメラ画像で置き換えます
3. 加工済み画像が右側の表示エリアに表示されます
4. 加工済み画像が `output_images/k24044/lecture05_01_k24044.png` に自動保存されます

### 4. アプリケーションの終了

ウィンドウを閉じることで、アプリケーションを終了します。カメラリソースは自動的に解放されます。

## 機能説明

### カメラ映像表示

- カメラ映像はリアルタイムで更新されます（約30fps）
- 画面中央に赤いターゲットマーク（円と十字線）が表示されます
- 映像は左右反転（ミラー表示）で表示されます

### 画像加工処理

- Google画像の白色ピクセルを、撮影したカメラ画像のピクセルで置き換えます
- カメラ画像はグリッド状に繰り返し配置されます
- 処理には時間がかかる場合があります（画像サイズに依存）

## 保存先

- **撮影画像**: `output_images/k24044/camera_capture.png`
- **加工済み画像**: `output_images/k24044/lecture05_01_k24044.png`

## キーボードショートカット

| キー | 機能 |
|------|------|
| Q | 写真を撮影 |

## 注意事項

- カメラが正しく接続されていることを確認してください
- `images/google.png` が存在する必要があります
- 画像加工処理中は、アプリケーションが応答しない場合があります
- カメラの権限が許可されていることを確認してください（macOSの場合）

## トラブルシューティング

### カメラが表示されない場合

- カメラが正しく接続されているか確認してください
- 他のアプリケーションがカメラを使用していないか確認してください
- カメラの権限設定を確認してください

### 画像加工が実行されない場合

- 先に「撮影」ボタンで写真を撮影しているか確認してください
- `images/google.png` が存在するか確認してください
- コンソールにエラーメッセージが表示されていないか確認してください

### 画像が保存されない場合

- `output_images/k24044/` フォルダが作成されているか確認してください
- 書き込み権限があるか確認してください
